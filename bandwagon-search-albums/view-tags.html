{{- $token := .Token -}}
{{- $tags := .FeaturedSearchTags.ByRank.Slice -}}

<div class="flex-center margin-bottom-lg">
	<div class="search-container">
		<span class="black bold turboclick padding-right-sm" aria-label="Return to Tag Menu"><i class="bi bi-grid-3x3-gap-fill"></i> Genres</span>
		<a hx-get="/{{.Token}}/all" class="turboclick padding-right-sm"><i class="bi bi-list"></i> Albums</a>
	</div>
</div>	

<div class="columns-6 margin-top">
	{{- range $index, $tag := $tags -}}

		{{- $background00 :=  $tag.Colors.At 0 | parseColor -}}
		{{- $background01 :=  $tag.Colors.At 1 | parseColor -}}
		{{- $backgroundImage := concat "linear-gradient(120deg, " $background00.RGBA ", " $background01.RGBA ")" -}} 
		{{- $textColor := $background00.Text -}}
		{{- $shadowColor := $textColor.Text -}}

		<div hx-get="/{{$token}}?q=%23{{$tag.Name}}" class="flex-center pos-relative turboclick flex-column hover-trigger hover-swell" role="link" style="padding:3px; background-color:{{$background00}}; background-image: {{$backgroundImage | css}}; color:{{$textColor}}; border-radius:8px;">
			<div class="aspect-square" style="height:100%; width:100%; overflow:hidden; border-radius:6px;">
				{{- if ne ""  $tag.ImageURL }}
					<img src="{{$tag.ImageURL}}" class="block" style="width:100%; height:100%; object-fit:cover;" aria-label="{{$tag.Name}}" loading="lazy">
				{{- end -}}
				<div class="align-center pos-absolute-bottom margin-none text-xxxl bold text-plain" style="color:{{$textColor}}; text-shadow:0px 0px 5px {{$shadowColor}};">{{$tag.Name}}</div>
			</div>
		</div>
	{{- end -}}
</div>
