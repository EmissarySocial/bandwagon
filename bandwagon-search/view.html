<div id="search" class="fullscreen">

	<div class="flex-row padding-vertical-lg margin-bottom-lg" style="background-color:var(--gray20); margin-top:-8px; margin-right:-8px; margin-left:-8px;">
		<div class="sidebar" style="margin-right:16px;"></div>
		<div class="flex-grow">
			{{- template "view-widget" . -}}
		</div>
	</div>

	<div class="flex-row">

		<div class="sidebar" style="border-right: solid 1px var(--gray20);">
			{{template "view-sidebar" .}}
		</div>

		<div class="flex-grow">

			<div id="search-results">
				{{.View "view-results"}}
			</div>

			{{- if .UserCan "edit" -}}
				<br>
				<br>
				<br>
				<br>
				<div class="text-sm">
					<button hx-get="/{{.Token}}/edit">Edit</button>
					<button hx-get="/{{.Token}}/sharing">Sharing</button>
				</div>
			{{- end -}}
		</div>
	</div>
</div>


<style>
	.sidebar {
		width:180px;
		min-width:180px;
		max-width:180px;
		padding-right:8px;
		margin-right:8px;
	}

	.search-navigation {
		border-radius:8px;
		padding:8px 16px;
		display:block;
		cursor:pointer;
	}

	.search-navigation:hover {
		background-color:var(--gray15);
	}

	.search-navigation.selected,
	.search-navigation.selected:hover {
		background-color:var(--gray20);
	}

	.search-container {
		width:100%;
		padding-right:var(--rhythm);
	}

	#search-widget {
		display:flex;
		flex-direction:row;
		flex-wrap:nowrap;
		flex-grow:1;
		margin:0px;
		padding:0px;
	}

	#search-widget:has(input:focus) {
		outline:solid;
		outline-color: -webkit-focus-ring-color;
	}

	#search-widget > input {
		border:none;
		outline:none;
		flex-grow:1;
	}

	#search-widget > button {
		font-size:calc(var(--rhythm) * 1.75);
		margin:4px;
	}

	#search-tags {
		display:flex;
		flex-direction:row;
		flex-wrap:nowrap;
	}

	#search-input {
		flex-grow:1;
		margin-left:(--rhythm);
	}

	#search-suggestions {
		margin-top:3px;
	}

	#search-suggestions > [role=option] {
		display:block;
		cursor:pointer;
		padding: 4px 8px;
		color:var(--black);
	}

	#search-suggestions > [role=option].selected {
		background-color:var(--gray20);
	}

	.list-box {
		width:100%;
		border:solid 2px var(--gray40);
	}

	.pop-up {
		position:absolute;
		visibility:hidden;
		z-index:10;
		background-color:var(--input-background);
		box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.2);
		border-top:none;
		border-bottom-left-radius: 8px;
		border-bottom-right-radius:8px;
	}

	#search-widget {
		display:flex;
		flex-direction:row;
		flex-wrap:nowrap;
		margin:0px;
		padding:0px;
	}

	#search-widget:has(input:focus) {
		outline:solid;
		outline-color: -webkit-focus-ring-color;
	}

	#search-widget > input {
		border:none;
		outline:none;
		flex-grow:1;
	}

	#search-widget > button {
		font-size:calc(var(--rhythm) * 1.75);
		margin:4px;
	}

	#search-tags {
		display:flex;
		flex-direction:row;
		flex-wrap:nowrap;
	}

	#search-input {
		flex-grow:1;
		margin-left:(--rhythm);
	}

	#search-suggestions {
		margin-top:3px;
	}

	.list-box {
		width:100%;
		border:solid 2px var(--gray40);
	}

	.pop-up {
		position:absolute;
		visibility:hidden;
		z-index:10;
		background-color:var(--input-background);
		box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.2);
		border-top:none;
		border-bottom-left-radius: 8px;
		border-bottom-right-radius:8px;
	}

	#search-suggestions > [role=option] {
		display:block;
		cursor:pointer;
		padding: 4px 8px;
		color:var(--black);
	}

	#search-suggestions > [role=option].selected {
		background-color:var(--gray20);
	}
</style>